<!DOCTYPE html>



  



<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Jax's Blog" />










<meta property="og:type" content="website">
<meta property="og:title" content="You define me">
<meta property="og:url" content="http://17wpw.com/page/2/index.html">
<meta property="og:site_name" content="You define me">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="You define me">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://17wpw.com/page/2/"/>





  <title>You define me</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?92096bcd95c9aa461a04e26f626852fd";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">You define me</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://17wpw.com/2018/11/23/敏捷开发/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jax">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/class.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="You define me">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/23/敏捷开发/" itemprop="url">如何在团队中推行Scrum敏捷开发</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-23T17:01:00+08:00">
                2018-11-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>当时提出敏捷开发的这个人或者这个群体，<br>提出来的是敏捷开发的四个价值观：</p>
<ul>
<li><strong>以人为本：重视个体间的合作互动</strong></li>
<li><strong>目标导向：我们最终交付的是“可使用的软件”，而不是一堆繁重的文档</strong></li>
<li><strong>客户为先：理解客户需求，与客户合作</strong></li>
<li><strong>拥抱改变：客户会在不断变化需求的过程中明晰真正需要的，因此敏捷需要拥抱变化</strong></li>
</ul>
<h2 id="了解Scrum-是什么很重要"><a href="#了解Scrum-是什么很重要" class="headerlink" title="了解Scrum 是什么很重要"></a>了解Scrum 是什么很重要</h2><p><img src="http://rblc.oss-cn-qingdao.aliyuncs.com/other/txl/a2f658d627d43363b1a47661dd3ac682_r.jpg" alt="Scrum是什么"></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/11/23/敏捷开发/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://17wpw.com/2018/09/20/spring boot事务/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jax">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/class.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="You define me">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/20/spring boot事务/" itemprop="url">Spring Boot中的事务管理</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-20T17:01:00+08:00">
                2018-09-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="什么是事务？"><a href="#什么是事务？" class="headerlink" title="什么是事务？"></a>什么是事务？</h2><p>我们在开发企业应用时，对于业务人员的一个操作实际是对数据读写的多步操作的结合。由于数据操作在顺序执行的过程中，任何一步操作都有可能发生异常，异常会导致后续操作无法完成，此时由于业务逻辑并未正确的完成，之前成功操作数据的并不可靠，需要在这种情况下进行回退。</p>
<p>事务的作用就是为了保证用户的每一个操作都是可靠的，事务中的每一步操作都必须成功执行，只要有发生异常就回退到事务开始未进行操作的状态。</p>
<p>事务管理是Spring框架中最为常用的功能之一，我们在使用Spring Boot开发应用时，大部分情况下也都需要使用事务。</p>
<h2 id="快速入门"><a href="#快速入门" class="headerlink" title="快速入门"></a>快速入门</h2><p>在Spring Boot中，当我们使用了spring-boot-starter-jdbc或spring-boot-starter-data-jpa依赖的时候，框架会自动默认分别注入DataSourceTransactionManager或JpaTransactionManager。所以我们不需要任何额外配置就可以用@Transactional注解进行事务的使用。</p>
<p>我们以之前实现的《用spring-data-jpa访问数据库》的示例Chapter3-2-2作为基础工程进行事务的使用常识。</p>
<p>在该样例工程中（若对该数据访问方式不了解，可先阅读该文章），我们引入了spring-data-jpa，并创建了User实体以及对User的数据访问对象UserRepository，在ApplicationTest类中实现了使用UserRepository进行数据读写的单元测试用例，如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)</div><div class="line"><span class="meta">@SpringApplicationConfiguration</span>(Application.class)</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplicationTests</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Autowired</span></div><div class="line">	<span class="keyword">private</span> UserRepository userRepository;</div><div class="line"></div><div class="line">	<span class="meta">@Test</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line"></div><div class="line">		<span class="comment">// 创建10条记录</span></div><div class="line">		userRepository.save(<span class="keyword">new</span> User(<span class="string">"AAA"</span>, <span class="number">10</span>));</div><div class="line">		userRepository.save(<span class="keyword">new</span> User(<span class="string">"BBB"</span>, <span class="number">20</span>));</div><div class="line">		userRepository.save(<span class="keyword">new</span> User(<span class="string">"CCC"</span>, <span class="number">30</span>));</div><div class="line">		userRepository.save(<span class="keyword">new</span> User(<span class="string">"DDD"</span>, <span class="number">40</span>));</div><div class="line">		userRepository.save(<span class="keyword">new</span> User(<span class="string">"EEE"</span>, <span class="number">50</span>));</div><div class="line">		userRepository.save(<span class="keyword">new</span> User(<span class="string">"FFF"</span>, <span class="number">60</span>));</div><div class="line">		userRepository.save(<span class="keyword">new</span> User(<span class="string">"GGG"</span>, <span class="number">70</span>));</div><div class="line">		userRepository.save(<span class="keyword">new</span> User(<span class="string">"HHH"</span>, <span class="number">80</span>));</div><div class="line">		userRepository.save(<span class="keyword">new</span> User(<span class="string">"III"</span>, <span class="number">90</span>));</div><div class="line">		userRepository.save(<span class="keyword">new</span> User(<span class="string">"JJJ"</span>, <span class="number">100</span>));</div><div class="line"></div><div class="line">		<span class="comment">// 省略后续的一些验证操作</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>可以看到，在这个单元测试用例中，使用UserRepository对象连续创建了10个User实体到数据库中，下面我们人为的来制造一些异常，看看会发生什么情况。</p>
<p>通过定义User的name属性长度为5，这样通过创建时User实体的name属性超长就可以触发异常产生。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Entity</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="meta">@Id</span></div><div class="line">    <span class="meta">@GeneratedValue</span></div><div class="line">    <span class="keyword">private</span> Long id;</div><div class="line"></div><div class="line">    <span class="meta">@Column</span>(nullable = <span class="keyword">false</span>, length = <span class="number">5</span>)</div><div class="line">    <span class="keyword">private</span> String name;</div><div class="line"></div><div class="line">    <span class="meta">@Column</span>(nullable = <span class="keyword">false</span>)</div><div class="line">    <span class="keyword">private</span> Integer age;</div><div class="line"></div><div class="line">    <span class="comment">// 省略构造函数、getter和setter</span></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>修改测试用例中创建记录的语句，将一条记录的name长度超过5，如下：name为HHHHHHHHH的User对象将会抛出异常。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 创建10条记录</span></div><div class="line">userRepository.save(<span class="keyword">new</span> User(<span class="string">"AAA"</span>, <span class="number">10</span>));</div><div class="line">userRepository.save(<span class="keyword">new</span> User(<span class="string">"BBB"</span>, <span class="number">20</span>));</div><div class="line">userRepository.save(<span class="keyword">new</span> User(<span class="string">"CCC"</span>, <span class="number">30</span>));</div><div class="line">userRepository.save(<span class="keyword">new</span> User(<span class="string">"DDD"</span>, <span class="number">40</span>));</div><div class="line">userRepository.save(<span class="keyword">new</span> User(<span class="string">"EEE"</span>, <span class="number">50</span>));</div><div class="line">userRepository.save(<span class="keyword">new</span> User(<span class="string">"FFF"</span>, <span class="number">60</span>));</div><div class="line">userRepository.save(<span class="keyword">new</span> User(<span class="string">"GGG"</span>, <span class="number">70</span>));</div><div class="line">userRepository.save(<span class="keyword">new</span> User(<span class="string">"HHHHHHHHHH"</span>, <span class="number">80</span>));</div><div class="line">userRepository.save(<span class="keyword">new</span> User(<span class="string">"III"</span>, <span class="number">90</span>));</div><div class="line">userRepository.save(<span class="keyword">new</span> User(<span class="string">"JJJ"</span>, <span class="number">100</span>));</div></pre></td></tr></table></figure>
<p>执行测试用例，可以看到控制台中抛出了如下异常，name字段超长：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="number">2016</span>-<span class="number">05</span>-<span class="number">27</span> <span class="number">10</span>:<span class="number">30</span>:<span class="number">35.948</span>  WARN <span class="number">2660</span> --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: <span class="number">1406</span>, SQLState: <span class="number">22001</span></div><div class="line"><span class="number">2016</span>-<span class="number">05</span>-<span class="number">27</span> <span class="number">10</span>:<span class="number">30</span>:<span class="number">35.948</span> ERROR <span class="number">2660</span> --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Data truncation: Data too <span class="keyword">long</span> <span class="keyword">for</span> column <span class="string">'name'</span> at row <span class="number">1</span></div><div class="line"><span class="number">2016</span>-<span class="number">05</span>-<span class="number">27</span> <span class="number">10</span>:<span class="number">30</span>:<span class="number">35.951</span>  WARN <span class="number">2660</span> --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: <span class="number">1406</span>, SQLState: HY000</div><div class="line"><span class="number">2016</span>-<span class="number">05</span>-<span class="number">27</span> <span class="number">10</span>:<span class="number">30</span>:<span class="number">35.951</span>  WARN <span class="number">2660</span> --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Data too <span class="keyword">long</span> <span class="keyword">for</span> column <span class="string">'name'</span> at row <span class="number">1</span></div><div class="line"></div><div class="line">org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement</div></pre></td></tr></table></figure>
<p>此时查数据库中，创建了name从AAA到GGG的记录，没有HHHHHHHHHH、III、JJJ的记录。而若这是一个希望保证完整性操作的情况下，AAA到GGG的记录希望能在发生异常的时候被回退，这时候就可以使用事务让它实现回退，做法非常简单，我们只需要在test函数上添加@Transactional注解即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="meta">@Transactional</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// 省略测试内容</span></div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>再来执行该测试用例，可以看到控制台中输出了回滚日志   </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">（Rolled back transaction <span class="keyword">for</span> test context），</div><div class="line"></div><div class="line"><span class="number">2016</span>-<span class="number">05</span>-<span class="number">27</span> <span class="number">10</span>:<span class="number">35</span>:<span class="number">32.210</span>  WARN <span class="number">5672</span> --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: <span class="number">1406</span>, SQLState: <span class="number">22001</span></div><div class="line"><span class="number">2016</span>-<span class="number">05</span>-<span class="number">27</span> <span class="number">10</span>:<span class="number">35</span>:<span class="number">32.210</span> ERROR <span class="number">5672</span> --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Data truncation: Data too <span class="keyword">long</span> <span class="keyword">for</span> column <span class="string">'name'</span> at row <span class="number">1</span></div><div class="line"><span class="number">2016</span>-<span class="number">05</span>-<span class="number">27</span> <span class="number">10</span>:<span class="number">35</span>:<span class="number">32.213</span>  WARN <span class="number">5672</span> --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: <span class="number">1406</span>, SQLState: HY000</div><div class="line"><span class="number">2016</span>-<span class="number">05</span>-<span class="number">27</span> <span class="number">10</span>:<span class="number">35</span>:<span class="number">32.213</span>  WARN <span class="number">5672</span> --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Data too <span class="keyword">long</span> <span class="keyword">for</span> column <span class="string">'name'</span> at row <span class="number">1</span></div><div class="line"><span class="number">2016</span>-<span class="number">05</span>-<span class="number">27</span> <span class="number">10</span>:<span class="number">35</span>:<span class="number">32.221</span>  INFO <span class="number">5672</span> --- [           main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction <span class="keyword">for</span> test context [DefaultTestContext@<span class="number">1</span>d7a715 testClass = ApplicationTests, testInstance = com.didispace.ApplicationTests@<span class="number">95</span>a785, testMethod = test<span class="meta">@ApplicationTests</span>, testException = org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement, mergedContextConfiguration = [MergedContextConfiguration@<span class="number">11f</span>39f9 testClass = ApplicationTests, locations = <span class="string">'&#123;&#125;'</span>, classes = <span class="string">'&#123;class com.didispace.Application&#125;'</span>, contextInitializerClasses = <span class="string">'[]'</span>, activeProfiles = <span class="string">'&#123;&#125;'</span>, propertySourceLocations = <span class="string">'&#123;&#125;'</span>, propertySourceProperties = <span class="string">'&#123;&#125;'</span>, contextLoader = <span class="string">'org.springframework.boot.test.SpringApplicationContextLoader'</span>, parent = [<span class="keyword">null</span>]]].</div><div class="line"></div><div class="line">org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement</div></pre></td></tr></table></figure>
<p>再看数据库中，User表就没有AAA到GGG的用户数据了，成功实现了自动回滚。</p>
<p>这里主要通过单元测试演示了如何使用@Transactional注解来声明一个函数需要被事务管理，通常我们单元测试为了保证每个测试之间的数据独立，会使用@Rollback注解让每个单元测试都能在结束时回滚。而真正在开发业务逻辑时，我们通常在service层接口中使用@Transactional来对各个业务逻辑进行事务管理的配置，例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="meta">@Transactional</span></div><div class="line">    <span class="function">User <span class="title">login</span><span class="params">(String name, String password)</span></span>;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="事务详解"><a href="#事务详解" class="headerlink" title="事务详解"></a>事务详解</h2><p>上面的例子中我们使用了默认的事务配置，可以满足一些基本的事务需求，但是当我们项目较大较复杂时（比如，有多个数据源等），这时候需要在声明事务时，指定不同的事务管理器。对于不同数据源的事务管理配置可以见《Spring Boot多数据源配置与使用》中的设置。在声明事务时，只需要通过value属性指定配置的事务管理器名即可，例如：@Transactional(value=”transactionManagerPrimary”)。</p>
<p>除了指定不同的事务管理器之后，还能对事务进行隔离级别和传播行为的控制，下面分别详细解释：</p>
<h3 id="隔离级别"><a href="#隔离级别" class="headerlink" title="隔离级别"></a>隔离级别</h3><p>隔离级别是指若干个并发的事务之间的隔离程度，与我们开发时候主要相关的场景包括：脏读取、重复读、幻读。</p>
<p>我们可以看org.springframework.transaction.annotation.Isolation枚举类中定义了五个表示隔离级别的值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public enum Isolation &#123;</div><div class="line">    DEFAULT(-1),</div><div class="line">    READ_UNCOMMITTED(1),</div><div class="line">    READ_COMMITTED(2),</div><div class="line">    REPEATABLE_READ(4),</div><div class="line">    SERIALIZABLE(8);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>DEFAULT</strong>：这是默认值，表示使用底层数据库的默认隔离级别。对大部分数据库而言，通常这值就是：READ_COMMITTED。</li>
<li><strong>READ_UNCOMMITTED</strong>：该隔离级别表示一个事务可以读取另一个事务修改但还没有提交的数据。该级别不能防止脏读和不可重复读，因此很少使用该隔离级别。</li>
<li><strong>READ_COMMITTED</strong>：该隔离级别表示一个事务只能读取另一个事务已经提交的数据。该级别可以防止脏读，这也是大多数情况下的推荐值。</li>
<li>REPEATABLE_READ：该隔离级别表示一个事务在整个过程中可以多次重复执行某个查询，并且每次返回的记录都相同。即使在多次查询之间有新增的数据满足该查询，这些新增的记录也会被忽略。该级别可以防止脏读和不可重复读。</li>
<li>SERIALIZABLE：所有的事务依次逐个执行，这样事务之间就完全不可能产生干扰，也就是说，该级别可以防止脏读、不可重复读以及幻读。但是这将严重影响程序的性能。通常情况下也不会用到该级别。<br>指定方法：通过使用isolation属性设置，例如：</li>
</ul>
<blockquote>
<p>@Transactional(isolation = Isolation.DEFAULT)</p>
</blockquote>
<h3 id="传播行为"><a href="#传播行为" class="headerlink" title="传播行为"></a>传播行为</h3><p>所谓事务的传播行为是指，如果在开始当前事务之前，一个事务上下文已经存在，此时有若干选项可以指定一个事务性方法的执行行为。</p>
<p>我们可以看org.springframework.transaction.annotation.Propagation枚举类中定义了6个表示传播行为的枚举值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Propagation &#123;</div><div class="line">    REQUIRED(<span class="number">0</span>),</div><div class="line">    SUPPORTS(<span class="number">1</span>),</div><div class="line">    MANDATORY(<span class="number">2</span>),</div><div class="line">    REQUIRES_NEW(<span class="number">3</span>),</div><div class="line">    NOT_SUPPORTED(<span class="number">4</span>),</div><div class="line">    NEVER(<span class="number">5</span>),</div><div class="line">    NESTED(<span class="number">6</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>REQUIRED</strong>：如果当前存在事务，则加入该事务；如果当前没有事务，则创建一个新的事务。</li>
<li><strong>SUPPORTS</strong>：如果当前存在事务，则加入该事务；如果当前没有事务，则以非事务的方式继续运行。</li>
<li><strong>MANDATORY</strong>：如果当前存在事务，则加入该事务；如果当前没有事务，则抛出异常。</li>
<li><strong>REQUIRES_NEW</strong>：创建一个新的事务，如果当前存在事务，则把当前事务挂起。</li>
<li><strong>NOT_SUPPORTED</strong>：以非事务方式运行，如果当前存在事务，则把当前事务挂起。</li>
<li><strong>NEVER</strong>：以非事务方式运行，如果当前存在事务，则抛出异常。</li>
<li><strong>NESTED</strong>：如果当前存在事务，则创建一个事务作为当前事务的嵌套事务来运行；如果当前没有事务，则该取值等价于REQUIRED。  </li>
</ul>
<p>指定方法：通过使用propagation属性设置，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@Transactional(propagation = Propagation.REQUIRED)</div></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://17wpw.com/2018/09/13/单商户号绑定多公众号/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jax">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/class.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="You define me">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/13/单商户号绑定多公众号/" itemprop="url">微信支付多个公众号小程序共用一个商户号</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-13T17:01:00+08:00">
                2018-09-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="可共用的条件"><a href="#可共用的条件" class="headerlink" title="可共用的条件"></a>可共用的条件</h3><ol>
<li>微信公众号与小程序已经通过认证并且主体一致。</li>
<li>如主体不一致，需提交授权函，经过微信支付业务审核后， APPID才可确认申请；</li>
</ol>
<h3 id="授权方式"><a href="#授权方式" class="headerlink" title="授权方式"></a>授权方式</h3><ol>
<li>进入微信支付商户平台（pay.weixin.qq.com）。</li>
<li>进入产品中心-&gt;appid授权管理-&gt;新增授权。<br><img src="https://ws2.sinaimg.cn/large/0069RVTdgy1fv7y993us5j31kw0hv0w1.jpg"></li>
<li>新增授权之后，进入公众号或者小程序的微信支付，M-A授权管理同意授权。则关联成功。</li>
</ol>
<h3 id="小程序复用公众号认证"><a href="#小程序复用公众号认证" class="headerlink" title="小程序复用公众号认证"></a>小程序复用公众号认证</h3><ol>
<li>进入公众号，关联小程序，点击详情：复用公众号认证资料</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://17wpw.com/2018/08/20/xxl-job/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jax">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/class.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="You define me">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/20/xxl-job/" itemprop="url">xxl-job使用</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-20T17:01:00+08:00">
                2018-08-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="项目接入"><a href="#项目接入" class="headerlink" title="项目接入"></a>项目接入</h2><p><a href="http://www.xuxueli.com/xxl-job/#/?id=%E3%80%8A%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E5%B9%B3%E5%8F%B0xxl-job%E3%80%8B" target="_blank">接入文档</a></p>
<h2 id="填坑1-执行器外网ip地址绑定"><a href="#填坑1-执行器外网ip地址绑定" class="headerlink" title="填坑1 执行器外网ip地址绑定"></a>填坑1 执行器外网ip地址绑定</h2><ul>
<li>如果使用公网的IP填写到执行器的IP中，则会报错提示：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">java.net.BindException: Cannot assign requested address</div><div class="line">        at sun.nio.ch.Net.bind0(Native Method)</div><div class="line">        at sun.nio.ch.Net.bind(Net.java:<span class="number">433</span>)</div><div class="line">        at sun.nio.ch.Net.bind(Net.java:<span class="number">425</span>)</div><div class="line">        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:<span class="number">223</span>)</div><div class="line">        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:<span class="number">74</span>)</div><div class="line">        at org.eclipse.jetty.server.ServerConnector.open(ServerConnector.java:<span class="number">298</span>)</div><div class="line">        at org.eclipse.jetty.server.AbstractNetworkConnector.doStart(AbstractNetworkConnector.java:<span class="number">80</span>)</div><div class="line">        at org.eclipse.jetty.server.ServerConnector.doStart(ServerConnector.java:<span class="number">236</span>)</div><div class="line">        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:<span class="number">68</span>)</div><div class="line">        at org.eclipse.jetty.server.Server.doStart(Server.java:<span class="number">431</span>)</div><div class="line">        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:<span class="number">68</span>)</div><div class="line">        at com.xxl.job.core.rpc.netcom.jetty.server.JettyServer$<span class="number">1</span>.run(JettyServer.java:<span class="number">46</span>)</div><div class="line">        at java.lang.Thread.run(Thread.java:<span class="number">745</span>)</div></pre></td></tr></table></figure>
<ul>
<li>原因是：在云服务器中，一般只有一个内网网卡，外网IP地址不是直接配置在服务器中，而是配置在服务器外层的网关上，做了一层映射转发。所以jetty服务是无法绑定公网IP地址的。</li>
<li>解决方法：ip填写0.0.0.0或者不填。然后在后台执行器管理中，手动修改online机器地址，把ip改成执行器的外网IP。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://17wpw.com/2018/06/23/苹果开发者账号问题-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jax">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/class.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="You define me">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/23/苹果开发者账号问题-1/" itemprop="url">苹果开发者账号问题</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-23T17:06:25+08:00">
                2018-06-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="苹果开发者账号更新协议，需要新增手机号码。"><a href="#苹果开发者账号更新协议，需要新增手机号码。" class="headerlink" title="苹果开发者账号更新协议，需要新增手机号码。"></a>苹果开发者账号更新协议，需要新增手机号码。</h3><p>The Apple Developer Program License Agreement has been updated.</p>
<p>In order to access certain membership resources, you must accept the latest license agreement. First, you’ll need to update the mobile phone number associated with your Apple ID. Your mobile phone number must be based in your country/region. Edit this number in the Account section of appleid.apple.com, and return to your developer account to continue.</p>
<h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>可以点击按钮进入appid.apple.com官网进行更改手机号码信息，但是需要回答安全问题，如忘记安全问题最便捷的办法是：<br>找一台iphone设备，点击设置，icloud账户，登出，再登入您的开发者账号，点击“姓名、电子邮箱、电话号码“，新增一个手机号码。完成之后再登入开发者平台，则可以看到同意协议选项。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://17wpw.com/2018/06/23/CentOS服务器验证码乱码解决/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jax">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/class.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="You define me">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/23/CentOS服务器验证码乱码解决/" itemprop="url">CentOS服务器验证码乱码解决</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-23T17:01:00+08:00">
                2018-06-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>线上环境验证码乱码乱码，本地环境正常，判断应该是由于线上linux系统缺少字体文件造成的。验证码使用的：Times New Roman 字体。那么到本地字体文件夹找到对应的字体文件，上传到服务器中。</p>
<h3 id="Linux-CentOS-7-安装字体库"><a href="#Linux-CentOS-7-安装字体库" class="headerlink" title="Linux CentOS 7 安装字体库"></a>Linux CentOS 7 安装字体库</h3><p>在CentOS 4.x开始用fontconfig来安装字体库，所以输入以下命令即可：</p>
<blockquote>
<p>yum -y install fontconfig</p>
</blockquote>
<p>当看到下图的提示信息时说明已安装成功：<br><img src="https://img-blog.csdn.net/20160525145746674"></p>
<p>这时在/usr/shared目录就可以看到fonts和fontconfig目录了（之前是没有的）：<br><img src="https://img-blog.csdn.net/20160525145907583"></p>
<h3 id="添加中文字体"><a href="#添加中文字体" class="headerlink" title="添加中文字体"></a>添加中文字体</h3><p>首先在/usr/shared/fonts目录下新建一个目录chinese：<br><img src="https://img-blog.csdn.net/20160525151335431"></p>
<p>然后就是将上面的两个字体上传至/usr/shared/fonts/chinese目录下即可： </p>
<p>紧接着需要修改chinese目录的权限：</p>
<blockquote>
<p>chmod -R 755 /usr/share/fonts/chinese</p>
</blockquote>
<p>接下来需要安装ttmkfdir来搜索目录中所有的字体信息，并汇总生成fonts.scale文件，输入命令：</p>
<blockquote>
<p>yum -y install ttmkfdir</p>
</blockquote>
<p>然后执行ttmkfdir命令即可：</p>
<blockquote>
<p>ttmkfdir -e /usr/share/X11/fonts/encodings/encodings.dir</p>
</blockquote>
<p>最后一步就是修改字体配置文件了，首先通过编辑器打开配置文件：</p>
<blockquote>
<p>vi /etc/fonts/fonts.conf</p>
</blockquote>
<p>可以看到一个Font list，即字体列表，在这里需要把我们添加的中文字体位置加进去： </p>
<p><img src="https://img-blog.csdn.net/20160525162529288"></p>
<p>然后输入:wq保存退出，最后别忘了刷新内存中的字体缓存，这样就不用reboot重启了：</p>
<blockquote>
<p>fc-cache</p>
</blockquote>
<p>这样所有的步骤就算完成了，最后再次通过fc-list看一下字体列表： </p>
<p><img src="https://img-blog.csdn.net/20160525164056044"></p>
<p>可以看到已经成功安装上了中文字体，至此安装过程就全部结束，再次查看可以发现中文样式和内容均已可以正常显示了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://17wpw.com/2017/12/22/微信登陆本地调试/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jax">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/class.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="You define me">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/22/微信登陆本地调试/" itemprop="url">微信登陆本地调试</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-22T16:16:09+08:00">
                2017-12-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h3 id="开通微信沙盒账号"><a href="#开通微信沙盒账号" class="headerlink" title="开通微信沙盒账号"></a>开通微信沙盒账号</h3><ul>
<li>开通链接：<a href="https://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=sandbox/login" target="_blank" rel="external">https://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=sandbox/login</a>  </li>
<li>扫码登陆之后可获得微信测试接口的appid、appsecret（上线之后替换成正式的即可）。沙盒环境拥有所有微信公众号的接口权限。  </li>
</ul>
<h3 id="配置微信登陆授权域名"><a href="#配置微信登陆授权域名" class="headerlink" title="配置微信登陆授权域名"></a>配置微信登陆授权域名</h3><ul>
<li>在接口权限表中找到 网页服务-网页帐号-修改。点击修改填写本地环境ip地址（或者本地外网映射域名，推荐使用内外网穿透工具 <a href="https://natapp.cn/#download）；" target="_blank" rel="external">https://natapp.cn/#download）；</a><br><img src="/images/WechatIMG62.jpg" alt=""></li>
</ul>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/12/22/微信登陆本地调试/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://17wpw.com/2017/12/20/spring boot服务器部署 + nginx + https/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jax">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/class.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="You define me">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/20/spring boot服务器部署 + nginx + https/" itemprop="url">spring boot服务器部署 + nginx + https</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-20T14:14:41+08:00">
                2017-12-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="阿里云申请CA证书"><a href="#阿里云申请CA证书" class="headerlink" title="阿里云申请CA证书"></a>阿里云申请CA证书</h2><h3 id="参考文案"><a href="#参考文案" class="headerlink" title="参考文案"></a>参考文案</h3><ul>
<li><a href="https://juejin.im/post/5a2fbe1b51882507ae25f991?utm_source=gold_browser_extension" target="_blank" rel="external">理解https</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://17wpw.com/2017/11/29/java.lang.StackOverflowError/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jax">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/class.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="You define me">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/29/java.lang.StackOverflowError/" itemprop="url">Spring Data JPA报错java.lang.StackOverflowError</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-29T15:45:54+08:00">
                2017-11-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JAVA/" itemprop="url" rel="index">
                    <span itemprop="name">JAVA</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>报错信息<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">java.lang.StackOverflowError: <span class="keyword">null</span>,   </div><div class="line">at    com.zangland.study.jpa.entity.BookDetail.hashCode(BookDetail.java:<span class="number">17</span>) ~[classes/:na]</div><div class="line">at com.zangland.study.jpa.entity.Book.hashCode(Book.java:<span class="number">16</span>) ~[classes/:na]</div><div class="line">at com.zangland.study.jpa.entity.BookDetail.hashCode(BookDetail.java:<span class="number">17</span>) ~[classes/:na]</div><div class="line">at com.zangland.study.jpa.entity.Book.hashCode(Book.java:<span class="number">16</span>) ~[classes/:na]</div></pre></td></tr></table></figure></p>
<p>原因是使用Lombok注解，实体bean会生成全参的toString方法，如果实体bean存在关联关系，便造成死循环。<br></p>
<p>在实体bean上加上注解<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@ToString(exclude=&#123;&quot;store&quot;&#125;)</div></pre></td></tr></table></figure></p>
<p>忽略不想在toString方法输出的字段便解决。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://17wpw.com/2017/11/25/PHPStormDebug/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jax">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/class.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="You define me">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/25/PHPStormDebug/" itemprop="url">PhpStormDebug调试</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-25T15:45:54+08:00">
                2017-11-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="出现问题"><a href="#出现问题" class="headerlink" title="出现问题"></a>出现问题</h2><ul>
<li>调试总是断点在index.php的第一行 <br><br>点击菜单Run，在弹出菜单中取消勾选“Break at first line in PHP scripts”</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/class.jpg"
                alt="Jax" />
            
              <p class="site-author-name" itemprop="name">Jax</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">39</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/txlaijava" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:5681540@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://tuchong.com/1515111/" target="_blank" title="摄影/图虫">
                      
                        <i class="fa fa-fw fa-instagram"></i>摄影/图虫</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2014 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jax</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>








        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  







<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->


    

    







  





  

  

  

  
  

  

  

  

</body>
</html>
